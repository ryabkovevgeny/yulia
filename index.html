<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>100‚Äë–¥–Ω–µ–≤–Ω—ã–π –¥–æ–º–∞—à–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –Æ–ª–∏–∏</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Preload —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <link rel="preload" as="image" href="images/motiv1.jpg">
    <link rel="preload" as="image" href="images/motiv2.jpg">
    <link rel="preload" as="image" href="images/motiv3.jpg">

    <style>
        :root{
            --primary:#1976d2;
            --primary-dark:#0d47a1;
            --bg:#f0f8ff;
            --card:#ffffff;
            --muted:#555;
            --border:#ccc;
            --shadow: rgba(0,0,0,0.08);
            --rest-bg:#e3f2fd;
            --rest-text:#0d47a1;
            --done:#2e7d32;
        }
        *{ box-sizing: border-box; }
        html, body { height: 100%; }
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: var(--bg);
        }

        .bg-slideshow{
            position: fixed;
            inset: 0;
            z-index: -2;
            overflow: hidden;
            background: linear-gradient(120deg, #bbdefb, #90caf9);
        }
        .bg-slide{
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center center;
            filter: saturate(1.05) contrast(1.05) brightness(0.9);
            opacity: 0;
            transition: opacity 1.2s ease;
        }
        .bg-slide.active{ opacity: 1; }
        .bg-overlay{
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
            background: rgba(0,0,0,0.2);
            backdrop-filter: blur(1px);
        }
        @media (prefers-reduced-motion: reduce){
            .bg-slide{ transition: none; }
        }

        .container {
            max-width: 1200px;
            margin: auto;
            padding: 1rem;
        }
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 1.5rem 1rem;
            text-align: center;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 2px 12px var(--shadow);
        }
        h1 { margin: 0; font-size: 1.8rem; }
        nav a {
            color: white;
            margin: 0 10px;
            text-decoration: none;
            font-weight: 500;
        }
        nav a:hover { text-decoration: underline; }

        section {
            background: rgba(255,255,255,0.94);
            margin: 1.2rem 0;
            padding: 1.2rem;
            border-radius: 10px;
            box-shadow: 0 2px 8px var(--shadow);
        }
        .phase-section { margin: 1rem 0; }
        .phase-header {
            background: #e3f2fd;
            padding: 12px;
            border-left: 5px solid var(--primary);
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 6px;
            transition: background 0.3s;
        }
        .phase-header:hover { background: #bbdefb; }
        .phase-header span.arrow { margin-left: 8px; }
        .phase-body { display: none; margin-top: 0.5rem; }
        .day-card {
            margin: 0.8rem 0;
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            transition: box-shadow 0.3s ease;
            background: rgba(255,255,255,0.95);
        }
        .day-card:hover { box-shadow: 0 2px 10px var(--shadow); }
        .day-header {
            background: #f5f5f5;
            padding: 10px 12px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
        }
        .day-header.rest-day {
            background: var(--rest-bg);
            color: var(--rest-text);
        }
        .day-header .left {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        .day-header .right {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
        }
        .day-header .arrow { font-weight: 700; }
        .day-header.done {
            border-left: 4px solid var(--done);
        }
        .done-checkbox {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
            font-size: 0.95rem;
        }
        .day-body {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s ease, padding 0.35s ease;
            background: transparent;
        }
        .day-body.open {
            padding: 10px 12px;
            max-height: 1000px;
        }
        .exercise-row {
            display: flex;
            align-items: center;
            padding: 0.55rem 0;
            border-bottom: 1px dashed #eee;
            gap: 0.5rem;
        }
        .exercise-row:last-child { border-bottom: none; }
        .exercise-name { flex: 2; font-weight: 500; }
        .exercise-input {
            flex: 0.8;
            padding: 0.4rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
            font-size: 14px;
        }
        .note-input {
            flex: 1.5;
            padding: 0.4rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }
        .rest-message {
            text-align: center;
            color: var(--muted);
            font-style: italic;
            padding: 0.6rem 0.2rem;
        }
        .progress-section {
            background: rgba(227,242,253,0.5);
            padding: 1rem;
            border-radius: 8px;
            margin: 0.8rem 0;
            border: 1px solid #bbdefb;
        }
        .progress-bar {
            background: #e0e0e0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 0.5rem 0;
        }
        .progress-fill {
            background: var(--primary);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        .save-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .save-button:hover { background: var(--primary-dark); }
        .muted { color: var(--muted); }

        @media (max-width: 768px) {
            .exercise-row { flex-direction: column; align-items: stretch; }
            .exercise-name, .exercise-input, .note-input { width: 100%; margin: 0.2rem 0; }
            h1 { font-size: 1.4rem; }
            .phase-header, .day-header { font-size: 1rem; }
        }
    </style>
</head>
<body>

<div id="bg-slideshow" class="bg-slideshow" aria-hidden="true"></div>
<div class="bg-overlay" aria-hidden="true"></div>

<header>
    <h1>üåä 100‚Äë–¥–Ω–µ–≤–Ω—ã–π –¥–æ–º–∞—à–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –Æ–ª–∏–∏</h1>
    <nav>
        <a href="#phases">–§–∞–∑—ã</a> ‚Ä¢
        <a href="#tips">–°–æ–≤–µ—Ç—ã</a> ‚Ä¢
        <a href="#progress">–ü—Ä–æ–≥—Ä–µ—Å—Å</a>
    </nav>
</header>

<div class="container">

    <section id="intro">
        <h2>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã</h2>
        <p>–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É—á—ë—Ç–æ–º: –≤–æ–∑—Ä–∞—Å—Ç–∞, –¥–∞–≤–ª–µ–Ω–∏—è, –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–ª–µ–Ω—è–º–∏, —Ü–µ–ª–µ–π –ø–æ—Ö—É–¥–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è –æ—Å–∞–Ω–∫–∏. –ë–µ–∑ –±–µ–≥–∞, –ø—Ä—ã–∂–∫–æ–≤ –∏ —É–¥–∞—Ä–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫.</p>
        <ul>
            <li><strong>–§–∞–∑–∞ 1 (–¥–Ω–∏ 1‚Äì30):</strong> –ê–¥–∞–ø—Ç–∞—Ü–∏—è ‚Äî –º—è–≥–∫–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ, —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–ø–∏–Ω—ã, –Ω–∏–∑–∫–æ—É–¥–∞—Ä–Ω–æ–µ –∫–∞—Ä–¥–∏–æ, –π–æ–≥–∞.</li>
            <li><strong>–§–∞–∑–∞ 2 (–¥–Ω–∏ 31‚Äì70):</strong> –†–∞–∑–≤–∏—Ç–∏–µ ‚Äî —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –∫–æ—Ä –∏ —Å–ø–∏–Ω—É, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∏–ª–∞—Ç–µ—Å–∞, –ª—ë–≥–∫–∞—è —Å–∏–ª–æ–≤–∞—è.</li>
            <li><strong>–§–∞–∑–∞ 3 (–¥–Ω–∏ 71‚Äì100):</strong> –ì–∞—Ä–º–æ–Ω–∏—è ‚Äî –±–∞–ª–∞–Ω—Å —Å–∏–ª—ã, –≥–∏–±–∫–æ—Å—Ç–∏, –¥—ã—Ö–∞–Ω–∏—è –∏ —Å—Ç—Ä–µ—Å—Å-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞.</li>
        </ul>
        <p class="muted">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é: –ü–Ω, –°—Ä, –ß—Ç, –°–±. –í—Ç–æ—Ä–Ω–∏–∫, –ü—Ç, –í—Å ‚Äî –æ—Ç–¥—ã—Ö –∏–ª–∏ –ª—ë–≥–∫–∞—è –ø—Ä–æ–≥—É–ª–∫–∞.</p>
    </section>

    <section id="progress">
        <h2>üìä –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
        <div class="progress-section">
            <p>–ó–∞–≤–µ—Ä—à–µ–Ω–æ –¥–Ω–µ–π: <span id="completed-days">0</span> –∏–∑ 100</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p id="progress-text">0% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</p>
            <button class="save-button" onclick="saveState()">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
            </button>
        </div>
    </section>

    <section id="phases">
        <h2>üìã –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–∑—ã</h2>

        <div class="phase-section">
            <div class="phase-header" onclick="togglePhase(this)">
                üå± –§–∞–∑–∞ 1: –ê–¥–∞–ø—Ç–∞—Ü–∏—è (–î–Ω–∏ 1‚Äì30)
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="phase-body" id="phase1-body"></div>
        </div>

        <div class="phase-section">
            <div class="phase-header" onclick="togglePhase(this)">
                üåø –§–∞–∑–∞ 2: –†–∞–∑–≤–∏—Ç–∏–µ (–î–Ω–∏ 31‚Äì70)
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="phase-body" id="phase2-body"></div>
        </div>

        <div class="phase-section">
            <div class="phase-header" onclick="togglePhase(this)">
                üå∏ –§–∞–∑–∞ 3: –ì–∞—Ä–º–æ–Ω–∏—è (–î–Ω–∏ 71‚Äì100)
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="phase-body" id="phase3-body"></div>
        </div>
    </section>

    <section id="tips">
        <h2>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Æ–ª–∏–∏</h2>
        <ul>
            <li><strong>–ö–∞—Ä–¥–∏–æ:</strong> —Ö–æ–¥—å–±–∞ (–Ω–∞ —É–ª–∏—Ü–µ –∏–ª–∏ –±–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞), —ç–ª–ª–∏–ø—Å –≤ –¥–æ–º–∞—à–Ω–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö, —Ç–∞–Ω—Ü—ã –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤.</li>
            <li><strong>–û—Å–∞–Ω–∫–∞:</strong> –µ–∂–µ–¥–Ω–µ–≤–Ω–æ 5‚Äì10 –º–∏–Ω ¬´—Å—Ç–µ–Ω–∞ –¥–ª—è –æ—Å–∞–Ω–∫–∏¬ª (–ø—è—Ç–∫–∏, —è–≥–æ–¥–∏—Ü—ã, –ª–æ–ø–∞—Ç–∫–∏ –∏ –∑–∞—Ç—ã–ª–æ–∫ –∫ —Å—Ç–µ–Ω–µ).</li>
            <li><strong>–ö–æ–ª–µ–Ω–∏:</strong> –∏–∑–±–µ–≥–∞—Ç—å –≥–ª—É–±–æ–∫–∏—Ö –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–π, –≤—ã–ø–∞–¥–æ–≤ —Å –æ–ø–æ—Ä–æ–π –≤–ø–µ—Ä—ë–¥, –ø—Ä—ã–∂–∫–æ–≤. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—É–ª –¥–ª—è –æ–ø–æ—Ä—ã.</li>
            <li><strong>–î–∞–≤–ª–µ–Ω–∏–µ:</strong> –Ω–µ –∑–∞–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥—ã—Ö–∞–Ω–∏–µ, –∏–∑–±–µ–≥–∞—Ç—å —Ä–µ–∑–∫–∏—Ö –ø–æ–¥—ä—ë–º–æ–≤, –Ω–∞—á–∏–Ω–∞—Ç—å —Å –ª—ë–≥–∫–æ–π —Ä–∞–∑–º–∏–Ω–∫–∏.</li>
            <li><strong>–ü–∏—Ç–∞–Ω–∏–µ:</strong> –¥–µ—Ñ–∏—Ü–∏—Ç ~300‚Äì400 –∫–∫–∞–ª, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–µ–ª–∫–∞ (1.6 –≥/–∫–≥), –æ–≤–æ—â–∏, –∫–ª–µ—Ç—á–∞—Ç–∫–∞, –≤–æ–¥–∞ 1.8‚Äì2 –ª/–¥–µ–Ω—å.</li>
            <li><strong>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> –ø—Ä–æ–≥—É–ª–∫–∏, –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, —Å–æ–Ω 7‚Äì8 —á–∞—Å–æ–≤.</li>
        </ul>
    </section>

</div>

<script>
    const bgImages = [
        'images/motiv1.jpg',
        'images/motiv2.jpg',
        'images/motiv3.jpg'
    ];
    const BG_INTERVAL = 8000;
    function setupBackgroundSlideshow(){
        const wrap = document.getElementById('bg-slideshow');
        if (!wrap) return;
        bgImages.forEach(src => {
            const slide = document.createElement('div');
            slide.className = 'bg-slide';
            slide.style.backgroundImage = `url("${src}")`;
            wrap.appendChild(slide);
        });
        const slides = wrap.querySelectorAll('.bg-slide');
        if (slides.length === 0) return;
        slides.forEach(s => { const img = new Image(); img.src = s.style.backgroundImage.slice(5, -2); });
        let i = 0;
        slides[i].classList.add('active');
        setInterval(() => {
            slides[i].classList.remove('active');
            i = (i + 1) % slides.length;
            slides[i].classList.add('active');
        }, BG_INTERVAL);
    }

    const workoutPlan = {
        phase1: {
            "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
                "–•–æ–¥—å–±–∞ –≤ —É–º–µ—Ä–µ–Ω–Ω–æ–º —Ç–µ–º–ø–µ (30‚Äì40 –º–∏–Ω)",
                "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –æ—Å–∞–Ω–∫–∏ —É —Å—Ç–µ–Ω—ã (3√ó30 —Å–µ–∫)",
                "–ö–æ—à–∫–∞‚Äì–∫–æ—Ä–æ–≤–∞ (3√ó10)",
                "–ü–ª–∞–Ω–∫–∞ –Ω–∞ –ø—Ä–µ–¥–ø–ª–µ—á—å—è—Ö —Å –æ–ø–æ—Ä–æ–π –Ω–∞ –∫–æ–ª–µ–Ω–∏ (3√ó20 —Å–µ–∫)",
                "–Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç–∏–∫ (3√ó12)",
                "–ü–∏–ª–∞—Ç–µ—Å –¥–ª—è —Å–ø–∏–Ω—ã ‚Äî ¬´Swan¬ª –ª—ë–∂–∞ (3√ó8)"
            ],
            "–°—Ä–µ–¥–∞": [
                "–ô–æ–≥–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö: ¬´–ó–¥–æ—Ä–æ–≤–∞—è —Å–ø–∏–Ω–∞¬ª (30‚Äì40 –º–∏–Ω)",
                "–î—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (5 –º–∏–Ω)"
            ],
            "–ß–µ—Ç–≤–µ—Ä–≥": [
                "–≠–ª–ª–∏–ø—Å–æ–∏–¥ –∏–ª–∏ —Ö–æ–¥—å–±–∞ (30 –º–∏–Ω)",
                "–ü–æ–¥—ä—ë–º—ã –Ω–æ–≥ –≤ —Å—Ç–æ–π–∫–µ —É —Å—Ç–µ–Ω—ã (3√ó10 –Ω–∞ –Ω–æ–≥—É)",
                "–°–≥–∏–±–∞–Ω–∏–µ-—Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ –∫–æ–ª–µ–Ω –ª—ë–∂–∞ (3√ó15)",
                "–¢—è–≥–∞ –±—É—Ç—ã–ª–æ–∫ —Å –≤–æ–¥–æ–π –∫ –ø–æ—è—Å—É (3√ó12)",
                "–ë–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞ —Å –æ–ø–æ—Ä–æ–π –Ω–∞ –∫–æ–ª–µ–Ω–æ (2√ó15 —Å–µ–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É)",
                "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è —Å –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ–º –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—è—Å–Ω–∏—Ü—ã (3√ó12)"
            ],
            "–°—É–±–±–æ—Ç–∞": [
                "–ü–∏–ª–∞—Ç–µ—Å: ¬´–¢–µ–ª–æ –∏ –¥—ã—Ö–∞–Ω–∏–µ¬ª (30 –º–∏–Ω)",
                "–†–∞—Å—Ç—è–∂–∫–∞ —Å–ø–∏–Ω—ã –∏ –≥—Ä—É–¥–Ω—ã—Ö –º—ã—à—Ü (10 –º–∏–Ω)"
            ]
        },
        phase2: {
            "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
                "–•–æ–¥—å–±–∞ —Å –Ω–∞–∫–ª–æ–Ω–æ–º –∏–ª–∏ —Å —Ä—é–∫–∑–∞–∫–æ–º (40 –º–∏–Ω)",
                "–Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç–∏–∫ —Å —Ä–µ–∑–∏–Ω–∫–æ–π (3√ó15)",
                "–†–∞–∑–≥–∏–±–∞–Ω–∏–µ —Å–ø–∏–Ω—ã –Ω–∞ —á–µ—Ç–≤–µ—Ä–µ–Ω—å–∫–∞—Ö (3√ó10 –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É)",
                "–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–µ–Ω—ã —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (3√ó10)",
                "–ö–æ—Å—ã–µ —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è —Å –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ–º (3√ó12 –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É)",
                "–£–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–∑—ã ¬´—Å—Ç–æ–ª¬ª (3√ó20 —Å–µ–∫)"
            ],
            "–°—Ä–µ–¥–∞": [
                "–ô–æ–≥–∞: ¬´–ì–∏–±–∫–æ—Å—Ç—å –∏ –æ—Å–∞–Ω–∫–∞¬ª (40 –º–∏–Ω)",
                "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –∏–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (10 –º–∏–Ω)"
            ],
            "–ß–µ—Ç–≤–µ—Ä–≥": [
                "–ö–∞—Ä–¥–∏–æ-—Ç–∞–Ω—Ü—ã –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤ (30 –º–∏–Ω)",
                "–¢—è–≥–∞ –±—É—Ç—ã–ª–æ–∫ –≤ –Ω–∞–∫–ª–æ–Ω–µ —Å –æ–ø–æ—Ä–æ–π –Ω–∞ —Å—Ç—É–ª (3√ó12)",
                "–ü–æ–¥—ä—ë–º—ã –Ω–æ–≥ –ª—ë–∂–∞ —Å –æ–ø–æ—Ä–æ–π –ø–æ–¥ –ø–æ—è—Å–Ω–∏—Ü–µ–π (3√ó12)",
                "–ë–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞ –Ω–∞ –ø—Ä—è–º–æ–π –Ω–æ–≥–µ (2√ó20 —Å–µ–∫)",
                "¬´–ü—Ç–∏—Ü–∞-—Å–æ–±–∞–∫–∞¬ª (3√ó8 –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É)",
                "–†–∞—Å—Ç—è–∂–∫–∞ –ø–æ–¥–≤–∑–¥–æ—à–Ω–æ-–ø–æ—è—Å–Ω–∏—á–Ω–æ–π –º—ã—à—Ü—ã (2√ó30 —Å–µ–∫)"
            ],
            "–°—É–±–±–æ—Ç–∞": [
                "–ü–∏–ª–∞—Ç–µ—Å: ¬´–°–∏–ª–∞ –∫–æ—Ä–∞ –±–µ–∑ –∫–æ–ª–µ–Ω¬ª (35 –º–∏–Ω)",
                "–î—ã—Ö–∞–Ω–∏–µ –¥–∏–∞—Ñ—Ä–∞–≥–º–æ–π (5 –º–∏–Ω)"
            ]
        },
        phase3: {
            "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
                "–•–æ–¥—å–±–∞ —Ö–æ–ª–º–∞–º–∏ –∏–ª–∏ –ø–æ –ª–µ—Å—Ç–Ω–∏—Ü–µ (40‚Äì45 –º–∏–Ω)",
                "–Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç–∏–∫ —Å –ø–æ–¥–Ω—è—Ç–æ–π –Ω–æ–≥–æ–π (3√ó10 –Ω–∞ –Ω–æ–≥—É)",
                "–°—É–ø–µ—Ä—Å–µ—Ç: –¢—è–≥–∞ –±—É—Ç—ã–ª–æ–∫ + –ü—Ç–∏—Ü–∞-—Å–æ–±–∞–∫–∞ (3 –∫—Ä—É–≥–∞)",
                "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è —Å —Ä–µ–∑–∏–Ω–∫–æ–π (3√ó15)",
                "–ü–ª–∞–Ω–∫–∞ —Å –æ–ø–æ—Ä–æ–π –Ω–∞ –ª–æ–∫—Ç–∏ (3√ó30 —Å–µ–∫)"
            ],
            "–°—Ä–µ–¥–∞": [
                "–ô–æ–≥–∞: ¬´–ë–∞–ª–∞–Ω—Å –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ¬ª (45 –º–∏–Ω)",
                "–ü—Ä–æ–≥—É–ª–∫–∞ –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ (20 –º–∏–Ω)"
            ],
            "–ß–µ—Ç–≤–µ—Ä–≥": [
                "–ù–∏–∑–∫–æ—É–¥–∞—Ä–Ω–æ–µ –∫–∞—Ä–¥–∏–æ (—Ç–∞–Ω—Ü—ã/—ç–ª–ª–∏–ø—Å) ‚Äî 35 –º–∏–Ω",
                "–°—É–ø–µ—Ä—Å–µ—Ç: –ü–æ–¥—ä—ë–º—ã –Ω–æ–≥ + –ë–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞ (3 –∫—Ä—É–≥–∞)",
                "–¢—è–≥–∞ —Å —Ä–µ–∑–∏–Ω–∫–æ–π –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Å—Ç–æ—è (3√ó15)",
                "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ¬´–°—É–ø–µ—Ä–º–µ–Ω¬ª (3√ó12)",
                "–†–∞—Å—Ç—è–∂–∫–∞ –≥—Ä—É–¥–∏ –∏ —à–µ–∏ (10 –º–∏–Ω)"
            ],
            "–°—É–±–±–æ—Ç–∞": [
                "–ü–∏–ª–∞—Ç–µ—Å: ¬´–ì–ª—É–±–æ–∫–∏–π –∫–æ—Ä –¥–ª—è –æ—Å–∞–Ω–∫–∏¬ª (40 –º–∏–Ω)",
                "–î–Ω–µ–≤–Ω–∏–∫ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ + –¥—ã—Ö–∞–Ω–∏–µ (10 –º–∏–Ω)"
            ]
        }
    };

    const STORAGE_KEY = 'yulia100_plan_v1';
    let state = { days: {} };

    function loadState() {
        try {
            const raw = localStorage.getItem(STORAGE_KEY);
            if (raw) {
                const parsed = JSON.parse(raw);
                if (parsed && typeof parsed === 'object') {
                    state = { days: parsed.days || {} };
                }
            }
        } catch(e) {
            console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:', e);
        }
    }

    function saveState() {
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
            const btn = document.querySelector('.save-button');
            const original = btn.textContent;
            btn.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ';
            setTimeout(() => btn.textContent = original, 1200);
        } catch(e) {
            alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å.');
        }
    }

    function getWeekDay(dayNumber) {
        const days = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"];
        return days[dayNumber % 7];
    }

    function isTrainingDay(weekDay) {
        return ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–°—É–±–±–æ—Ç–∞"].includes(weekDay);
    }

    function getDayPlan(dayNumber, phaseName) {
        const weekDay = getWeekDay(dayNumber);
        if (!isTrainingDay(weekDay)) {
            return { weekDay, rest: true, exercises: ["–û—Ç–¥—ã—Ö –∏–ª–∏ –ª—ë–≥–∫–∞—è –ø—Ä–æ–≥—É–ª–∫–∞"] };
        }
        const plan = workoutPlan[phaseName] || {};
        const list = plan[weekDay] || ["–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"];
        return { weekDay, rest: false, exercises: list };
    }

    function ensureDayState(day, exerciseCount) {
        if (!state.days[day]) {
            state.days[day] = { completed: false, entries: Array(exerciseCount).fill({w:'', n:''}) };
        } else {
            const current = state.days[day].entries || [];
            if (current.length !== exerciseCount) {
                state.days[day].entries = Array.from({length: exerciseCount}, (_, i) => current[i] || {w:'', n:''});
            }
        }
    }

    function updateProgressUI() {
        const completed = Object.values(state.days).filter(d => d.completed).length;
        const percent = Math.min(100, Math.round((completed / 100) * 100));
        document.getElementById('completed-days').textContent = completed;
        document.getElementById('progress-fill').style.width = percent + '%';
        document.getElementById('progress-text').textContent = percent + '% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ';
    }

    function togglePhase(el) {
        const body = el.nextElementSibling;
        const arrow = el.querySelector('.arrow');
        const opened = body.style.display === 'block';
        body.style.display = opened ? 'none' : 'block';
        arrow.textContent = opened ? '‚ñ∂' : '‚ñº';
    }

    function toggleDayBody(header) {
        const body = header.nextElementSibling;
        const arrow = header.querySelector('.arrow');
        const isOpen = body.classList.contains('open');
        body.classList.toggle('open', !isOpen);
        arrow.textContent = isOpen ? '‚ñ∂' : '‚ñº';
    }

    function generateDays(phaseName, startDay, endDay, containerId) {
        const container = document.getElementById(containerId);
        if (!container) return;

        for (let day = startDay; day <= endDay; day++) {
            const { weekDay, rest, exercises } = getDayPlan(day, phaseName);
            const exerciseCount = rest ? 0 : exercises.length;

            ensureDayState(day, exerciseCount);
            const dayState = state.days[day];

            const card = document.createElement('div');
            card.className = 'day-card';

            const header = document.createElement('div');
            header.className = 'day-header' + (rest ? ' rest-day' : '') + (dayState.completed ? ' done' : '');

            const left = document.createElement('div');
            left.className = 'left';
            left.textContent = `–î–µ–Ω—å ${day} ‚Äî ${weekDay}`;

            const right = document.createElement('div');
            right.className = 'right';

            const doneLabel = document.createElement('label');
            doneLabel.className = 'done-checkbox';
            const doneInput = document.createElement('input');
            doneInput.type = 'checkbox';
            doneInput.checked = !!dayState.completed;
            doneInput.addEventListener('click', e => e.stopPropagation());
            doneInput.addEventListener('change', e => {
                state.days[day].completed = e.target.checked;
                header.classList.toggle('done', e.target.checked);
                updateProgressUI();
                saveState();
            });
            doneLabel.appendChild(doneInput);
            doneLabel.appendChild(document.createTextNode('–°–¥–µ–ª–∞–Ω–æ'));

            const arrow = document.createElement('span');
            arrow.className = 'arrow';
            arrow.textContent = '‚ñ∂';

            right.appendChild(doneLabel);
            right.appendChild(arrow);

            header.appendChild(left);
            header.appendChild(right);
            header.addEventListener('click', () => toggleDayBody(header));

            const body = document.createElement('div');
            body.className = 'day-body';

            if (rest) {
                const msg = document.createElement('div');
                msg.className = 'rest-message';
                msg.textContent = exercises[0];
                body.appendChild(msg);
            } else {
                exercises.forEach((exercise, idx) => {
                    const row = document.createElement('div');
                    row.className = 'exercise-row';

                    const nameDiv = document.createElement('div');
                    nameDiv.className = 'exercise-name';
                    nameDiv.textContent = exercise;

                    const weightInput = document.createElement('input');
                    weightInput.className = 'exercise-input';
                    weightInput.type = 'number';
                    weightInput.inputMode = 'decimal';
                    weightInput.min = '0';
                    weightInput.step = '0.5';
                    weightInput.placeholder = '–ø–æ–≤—Ç/–≤—Ä–µ–º—è';
                    weightInput.value = state.days[day].entries[idx]?.w || '';
                    weightInput.addEventListener('input', () => {
                        state.days[day].entries[idx] = state.days[day].entries[idx] || {w:'', n:''};
                        state.days[day].entries[idx].w = weightInput.value;
                        saveState();
                    });

                    const noteInput = document.createElement('input');
                    noteInput.className = 'note-input';
                    noteInput.type = 'text';
                    noteInput.placeholder = '–∑–∞–º–µ—Ç–∫–∞';
                    noteInput.value = state.days[day].entries[idx]?.n || '';
                    noteInput.addEventListener('input', () => {
                        state.days[day].entries[idx] = state.days[day].entries[idx] || {w:'', n:''};
                        state.days[day].entries[idx].n = noteInput.value;
                        saveState();
                    });

                    row.appendChild(nameDiv);
                    row.appendChild(weightInput);
                    row.appendChild(noteInput);
                    body.appendChild(row);
                });
            }

            card.appendChild(header);
            card.appendChild(body);
            container.appendChild(card);
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        setupBackgroundSlideshow();
        loadState();
        generateDays('phase1', 1, 30, 'phase1-body');
        generateDays('phase2', 31, 70, 'phase2-body');
        generateDays('phase3', 71, 100, 'phase3-body');
        updateProgressUI();
    });
</script>

</body>
</html>
